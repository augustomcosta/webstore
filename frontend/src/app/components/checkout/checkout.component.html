<div class="checkout">
  <div class="flex items-center align-middle pb-[2rem]">
    <div class="flex justify-center items-center bg-gradient-to-tr
  from-gradientColor-darkAugusteal
  to-gradientColor-augusteal mr-2 min-h-[2rem] max-h-[2rem] min-w-[2rem] max-w-[2rem] rounded-md">
      <i class="fa-solid fa-boxes-stacked text-white"></i>
    </div>
    <h2 class="text-start !m-0">Checkout</h2>
  </div>
  <div class="checkout-container">
    <div class="stepper-container">
      <h1 class="text-teal-800">Mailing Address</h1>
      @if ((stepperStep$ | async) === 1) {
        <app-shipping-form/>
      } @else if ((stepperStep$ | async) === 2) {
        <app-payment-form/>
      } @else {
        <h1>Order Summary</h1>
      }
    </div>
    <div class="cart-summary">
      <div class="cart-items-container">
        <h1>Cart Summary</h1>
        @for (item of basket?.basketItems; track $index) {
          <div class="cart-item">
            <p>{{ item.quantity }}x {{ item.productName }}</p>
            <p>{{ item.price * item.quantity | currency }}</p>
          </div>
        }
      </div>
      <div class="order-totals">
        @if ((basketTotal$ | async); as basketTotal) {
          <div class="subtotal">
            <p>Subtotal:</p>
            <p>{{ basketTotal.subTotal | currency }}</p>
          </div>
          <div class="shipping">
            <p>Shipping:</p>
            <p>{{ basketTotal.shipping | currency }}</p>
          </div>
          <div class="total">
            <p class="!m-0">Total:</p>
            <p class="!m-0">{{ basketTotal.total | currency }}</p>
          </div>
        }
      </div>
      Step:
      @if (stepperStep$ | async; as stepperStep) {
        <p>{{ stepperStep }}</p>
      }
      <button class="p-2 mb-2 bg-gradientColor-darkAugusteal" (click)="goToNextStep()">Next</button>
      <button class="p-2 bg-gradientColor-darkAugusteal" (click)="goToPreviousStep()">Previous</button>
    </div>
  </div>
</div>

